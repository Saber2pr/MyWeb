window.__require=function t(e,o,r){function n(i,s){if(!o[i]){if(!e[i]){var a=i.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+i+"'")}}var p=o[i]={exports:{}};e[i][0].call(p.exports,function(t){return n(e[i][1][t]||t)},p,p.exports,t,e,o,r)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({List:[function(t,e,o){"use strict";cc._RF.push(e,"9d52ajJ5tVI0oQ4t0fgrArR","List"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){return function(t){var e=this;this.instance=t,this.set=function(t){return function(o){return e[t]=o,e}}}}();o.List=r,cc._RF.pop()},{}],PlayScene:[function(t,e,o){"use strict";cc._RF.push(e,"ef34csitxhIKr//7SX4DGIv","PlayScene"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Snake"),n=cc._decorator,c=n.ccclass,i=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodes=[],e.front="up",e.foodPreFab=null,e.base=null,e.score=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.snake=new(r.Snake.bind.apply(r.Snake,[void 0].concat(this.nodes))),this.score.string=String(this.snake.length),this.addKeyListener(),this.createFood()},e.prototype.start=function(){var t=this;this.schedule(function(){t.snake.move(t.front).meet(t.currentFood.getPosition())&&(t.snake.eat(t.currentFood),t.score.string=String(t.snake.length),t.createFood())},1)},e.prototype.addKeyListener=function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:t.front="left";break;case cc.macro.KEY.d:case cc.macro.KEY.right:t.front="right";break;case cc.macro.KEY.w:case cc.macro.KEY.up:t.front="up";break;case cc.macro.KEY.s:case cc.macro.KEY.down:t.front="down"}})},e.prototype.getRandPos=function(){var t=parseInt(String(this.getRandValue(0,14))),e=parseInt(String(this.getRandValue(0,8)));return cc.v2(50*t-350,50*e-200)},e.prototype.getRandValue=function(t,e){return t+(e-t)*Math.random()},e.prototype.getRandColor=function(){var t=this.getRandValue(0,10);return t>8?cc.Color.CYAN:t>6?cc.Color.GREEN:t>4?cc.Color.RED:t>2?cc.Color.BLUE:cc.Color.YELLOW},e.prototype.createFood=function(){this.currentFood=cc.instantiate(this.foodPreFab),this.currentFood.setPosition(this.getRandPos()),this.currentFood.color=this.getRandColor(),this.currentFood.setParent(this.base)},__decorate([i({type:[cc.Node],displayName:"\u86c7\u8eab\u4f53",tooltip:"\u6309\u5e8f\u53f7\u987a\u5e8f\u6392\u5217"})],e.prototype,"nodes",void 0),__decorate([i({type:cc.Prefab,displayName:"\u98df\u7269\u9884\u5236\u4f53"})],e.prototype,"foodPreFab",void 0),__decorate([i({type:cc.Node,displayName:"\u5bb9\u5668"})],e.prototype,"base",void 0),__decorate([i({type:cc.Label,displayName:"\u5206\u6570\u663e\u793a"})],e.prototype,"score",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./Snake":"Snake"}],Snake:[function(t,e,o){"use strict";cc._RF.push(e,"8f1fb5wY0FEN6cD4Nabg8U2","Snake"),Object.defineProperty(o,"__esModule",{value:!0});var r=t("./List"),n=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.foot=t.reduce(function(t,e){return new r.List(e).set("pre")(t)},null),this.step=this.foot.instance.getContentSize().width}return Object.defineProperty(t.prototype,"head",{get:function(){for(var t=this.foot;t.pre;)t=t.pre;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){for(var t=1,e=this.foot;e.pre;)e=e.pre,t++;return t},enumerable:!0,configurable:!0}),t.prototype.move=function(t){for(var e=this.foot;e.pre;){var o=e.pre.instance.getPosition();e.instance.setPosition(o),e=e.pre}return e.instance.setPosition(this.getNextPos(t)),this},t.prototype.eat=function(t){this.head.pre=new r.List(t)},t.prototype.getNextPos=function(t){var e=this.head.instance.getPosition();switch(t){case"down":return cc.v2(e.x,e.y-this.step);case"left":return cc.v2(e.x-this.step,e.y);case"right":return cc.v2(e.x+this.step,e.y);case"up":return cc.v2(e.x,e.y+this.step)}},t.prototype.meet=function(t){return this.head.instance.getPosition().equals(t)},t}();o.Snake=n,cc._RF.pop()},{"./List":"List"}]},{},["List","PlayScene","Snake"]);