window.__require=function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var u=a.split("/");if(u=u[u.length-1],!e[u]){var s="function"==typeof __require&&__require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+a+"'")}}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({MathVec:[function(t,e,n){"use strict";function r(t){for(var e=new Array,n=t.length,r=0;r<n;r++){e.push([]);for(var o=t[r].length,i=0;i<o;i++)e[r][i]=t[i][r]}return e}function o(t){return parseInt(String(t))}function i(t){for(var e=t.length,n=!1,r=0;r<e-1;r++)if(t[r]===t[r+1]){n=!0;break}return n}function a(t){for(var e=!1,n=0,r=t;n<r.length;n++){if(e=i(r[n]))break}return e}cc._RF.push(e,"7b9e40yDClCfaU+D3O5kMVo","MathVec"),Object.defineProperty(n,"__esModule",{value:!0}),n.reduceVec2=function(t,e){return cc.v2(t.x-e.x,t.y-e.y)},n.isIn=function(t,e){return t<e.y&&t>e.x},n.addMax=function(t,e){return t<e?t:e},n.addMin=function(t,e){return t>e?t:e},n.getQuad=function(t,e,n){var r=t.x-e.x,o=t.y-n.y;return r>0?o>0?1:4:o>0?2:3},n.getAround=function(t,e){return{x:{min:e.x-e.width/2-t.width/2,max:e.x+e.width/2+t.width/2},y:{min:e.y-e.height/2-t.height/2,max:e.y+e.height/2+t.height/2}}},n.limitToCircle=function(t,e){return n.getLength(t)<e?t:n.getPos(n.getAngle(t),e)},n.getAngle=function(t){return t.y>0?Math.acos(t.x/t.mag()):-Math.acos(t.x/t.mag())},n.getPos=function(t,e){return cc.v2(e*Math.cos(t),e*Math.sin(t))},n.getLength=function(t){return t.mag()},n.randValue=function(t,e){return t+(e-t)*Math.random()},n.transformArray=r,n.visitArray=function(t,e){for(var n=t.length,r=0;r<n;r++)for(var o=t[r].length,i=0;i<o;i++)e(r,i)},n.visitArrayRand=function(t,e){var n=o(Math.random()*t.length);e(n,o(Math.random()*t[n].length))},n.moreFunc=function(t,e){void 0===e&&(e=1);var n=0,r=function(){n>=e||(n++,t(),r())};r()},n.toInt=o,n.randFunc=function(t,e){void 0===e&&(e=1.5);var n=Boolean(o(Math.random()*e));n&&t(n)},n.alterArray=function(t,e){t[e.raw][e.col]=e.value},n.computed=function(t,e,n){var r;switch(e){case"+":r=cc.v2(t.x+n.x,t.y+n.y);break;case"-":r=cc.v2(t.x-n.x,t.y-n.y);break;case"*":r=cc.v2(t.x*n.x,t.y*n.y);break;case"/":r=cc.v2(t.x/n.x,t.y/n.y);break;default:throw new Error("computed method unknown")}return r},n.PointList=function(){return new Array},n.judgePos=function(t,e){return t.x===e.x&&t.y===e.y},n.fillArray=function(t,e){void 0===e&&(e=1);for(var n=new Array,r=0;r<e;r++)n.push(t);return n},n.fillArraySuper=function(t,e){for(var n=new Array,r=0;r<e.raw;r++){n.push([]);for(var o=0;o<e.col;o++)n[r][o]=t}return n},n.hasTwice=i,n.testRows=a,n.hasTwiceSuper=function(t){var e,n;return e=a(t),n=a(r(t)),e||n},n.radToAngle=function(t){return 180*t/Math.PI},n.angleToRad=function(t){return t/(180*Math.PI)},n.distence=function(t,e){return cc.v2(e.x-t.x,e.y-t.y).mag()},n.toWPos=function(t){return t.getParent().convertToWorldSpaceAR(t.position)},n.toLPos=function(t,e){return t.getParent().convertToNodeSpaceAR(e)},n.follow=function(t,e,n){t.setPosition(e.position.x+n.x,e.position.y+n.y)},n.convertToSpace=function(t,e){return cc.v2(e.x-t.x,e.y-t.y)};var c=function(){function t(){}return t.prototype.onChanged=function(t,e){this._last!==t&&e(),this._last=t},t}();n.default=c,cc._RF.pop()},{}],MoveCtrllor:[function(t,e,n){"use strict";cc._RF.push(e,"6e863QIPRVN46Dr7LMkdboW","MoveCtrllor"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){return t.y>0?Math.acos(t.x/t.mag()):-Math.acos(t.x/t.mag())},o=function(t,e){return cc.v2(e*Math.cos(t),e*Math.sin(t))},i=function(t){return t.mag()},a=function(t){return t.getParent().convertToWorldSpaceAR(t.position)};n.toLPos=function(t,e){return t.getParent().convertToNodeSpaceAR(e)};var c=function(){function t(t,e,n,r,o){void 0===r&&(r=50),void 0===o&&(o=!0),this.Damping=50,this.LENGTH=500,this.refresh(e),this.node=n,this.targetBody=n.getComponent(cc.RigidBody),this.damping=r,this.isRotate=o,this.__ANCHOR__=a(t),this.addListener(t,e)}return t.prototype.addListener=function(t,e){var n=this;t.on("touchstart",function(r){n.status=!0,n.update(t,e,r)}),t.on("touchmove",function(r){n.update(t,e,r)}),t.on("touchend",function(){n.refresh(e)}),t.on("touchcancel",function(){n.refresh(e)})},t.prototype.update=function(t,e,n){var a=function(t,e){return i(t)<e?t:o(r(t),e)}(function(t,e){return cc.v2(e.x-t.x,e.y-t.y)}(this.__ANCHOR__,n.getLocation()),t.width/2);e.setPosition(a),this.angle=r(a)},t.prototype.refresh=function(t){this.angle=0,this.status=!1,t.setPosition(0,0)},Object.defineProperty(t.prototype,"damping",{get:function(){return this.Damping},set:function(t){this.targetBody.linearDamping=this.LENGTH/t,this.targetBody.angularDamping=this.LENGTH/t,this.Damping=t},enumerable:!0,configurable:!0}),t.prototype.step=function(){!0===this.status&&(this.targetBody.applyLinearImpulse(o(this.angle,this.LENGTH),this.targetBody.getWorldCenter(),!0),this.isRotate&&this.node.setRotation(-function(t){return 180*t/Math.PI}(this.angle)))},t}(),u=cc._decorator,s=u.ccclass,h=u.property,f=cc.Enum({NO:0,YES:1}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchSpr=null,e.hero=null,e.damping=50,e.isRotate=f.YES,e.cameraActive=f.NO,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.moveCtrllor=new c(this.node,this.touchSpr,this.hero,this.damping,Boolean(this.isRotate)),this.camera=cc.Canvas.instance.node.getComponentInChildren(cc.Camera).node},e.prototype.update=function(){this.moveCtrllor.step(),this.cameraActive&&function(t,e){t.setPosition(n.toLPos(t,a(e)))}(this.camera,this.hero)},__decorate([h({type:cc.Node,displayName:"\u8f6e\u76d8\u62d6\u52a8\u70b9"})],e.prototype,"touchSpr",void 0),__decorate([h({type:cc.Node,displayName:"\u89d2\u8272\u8282\u70b9"})],e.prototype,"hero",void 0),__decorate([h({type:cc.Integer,tooltip:"\u9ed8\u8ba450",displayName:"\u901f\u5ea6",slide:!0,min:1,max:200,step:1})],e.prototype,"damping",void 0),__decorate([h({type:cc.Enum(f),displayName:"\u662f\u5426\u65cb\u8f6c",tooltip:"\u4ee5x\u8f74\u6b63\u5411\u4e3a0"})],e.prototype,"isRotate",void 0),__decorate([h({type:cc.Enum(f),displayName:"\u662f\u5426\u5f00\u542f\u6444\u50cf\u673a\u8ddf\u968f"})],e.prototype,"cameraActive",void 0),e=__decorate([s],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],layer:[function(t,e,n){"use strict";cc._RF.push(e,"b59a5WfV8BBf6W9158imfYv","layer"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e=__decorate([o],e)}(cc.Component));n.default=i,cc._RF.pop()},{}]},{},["MathVec","MoveCtrllor","layer"]);