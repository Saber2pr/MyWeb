window.__require=function t(e,n,i){function o(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}}var h=n[c]={exports:{}};e[c][0].call(h.exports,function(t){return o(e[c][1][t]||t)},h,h.exports,t,e,n,i)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({CameraManager:[function(t,e,n){"use strict";cc._RF.push(e,"91d60eeQPBLV78IlSz17jKw","CameraManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this._camera=null,this.layerList=null,this.currentIndex=null}return t.getInstance=function(){return this.instance=this.instance?this.instance:new t,this.instance},Object.defineProperty(t.prototype,"zoomRatio",{set:function(t){this.camera.zoomRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LastLayer",{get:function(){return this.layerList[this.currentIndex-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentLayer",{get:function(){return this.layerList[this.currentIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NextLayer",{get:function(){return this.layerList[this.currentIndex+1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"camera",{get:function(){return this._camera.getComponent(cc.Camera)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sceneName",{get:function(){return this.scene.name},enumerable:!0,configurable:!0}),t.prototype.update=function(t){t?t(this._camera,this.layerList[this.currentIndex].position):this._camera.position=this.layerList[this.currentIndex].position},t.prototype.initCamera=function(t,e,n){this.currentIndex=0,this._length=e.length,this.layerList=e,this._camera=t,this.scene=n},t.prototype.go=function(t,e){switch(t){case-1:this.currentIndex>0&&(this.currentIndex--,this.update(e));break;case 0:this.update(e);break;case 1:this.currentIndex<this._length-1&&(this.currentIndex++,this.update(e));break;default:throw new Error("CameraManager go error")}},t.prototype.reload=function(t,e){var n=this;cc.director.loadScene(this.scene.name,function(){n.go(t),e&&e()})},t}();n.default=i,cc._RF.pop()},{}],Camera:[function(t,e,n){"use strict";cc._RF.push(e,"f34f0T5UXtExJ5Ytcn4ZQdv","Camera"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,c=t("./CameraManager"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layerList=[],e.scene=null,e}return __extends(e,t),e.prototype.onLoad=function(){c.default.getInstance().initCamera(this.node,this.layerList,this.scene)},__decorate([r({type:[cc.Node],displayName:"layer\u8282\u70b9"})],e.prototype,"layerList",void 0),__decorate([r({type:cc.SceneAsset,displayName:"\u573a\u666f"})],e.prototype,"scene",void 0),e=__decorate([o],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./CameraManager":"CameraManager"}],Data:[function(t,e,n){"use strict";cc._RF.push(e,"119aaxmZeFB3I7hIBVjUFqT","Data"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./MathVec"),o=function(){function t(){var t=this;this.mergeSuper=function(t,e){for(var n=new Array,i=new Array,o=0,r=t;o<r.length;o++){var c=e(r[o]);n.push(c.arr),i.push(c.delta)}return{map:n,delta:i}},this.mergeLeft=function(e){var n,o,r,c=e.length,a=i.fillArray(0,e.length);for(n=0;n<c;n++){for(o=-1,r=n+1;r<c;r++)if(0!==e[r]){o=r,e[n]===e[r]?a[r]=r-n:0===e[n]?a[r]=r-n:a[r]=r-n-1;break}-1!==o&&(0===e[n]?(e[n]=e[o],e[o]=0,n-=1):e[n]===e[o]&&(e[n]=2*e[n],t.updateTimes=e[n]<t.maxValue?t.updateTimes+e[n]:t.updateTimes+1,e[o]=0))}return{arr:e,delta:a}},this.mergeRight=function(e){var n,o,r,c=e.length,a=i.fillArray(0,e.length);for(n=c-1;n>=0;n--){for(o=-1,r=n-1;r>=0;r--)if(0!==e[r]){o=r,e[r]===e[n]?a[r]=n-r:0===e[n]?a[r]=n-r:a[r]=n-r-1;break}-1!==o&&(0===e[n]?(e[n]=e[o],e[o]=0,n-=1):e[n]===e[o]&&(e[n]=2*e[n],t.updateTimes=e[n]<t.maxValue?t.updateTimes+e[n]:t.updateTimes+1,e[o]=0))}return{arr:e,delta:a}}}return t.getInstance=function(){return this.instance=this.instance?this.instance:new t,this.instance},t.prototype.init=function(t,e){return void 0===e&&(e=2048),this.updateTimes=0,this.maxValue=e,this.map=i.fillArraySuper(0,{raw:t,col:t}),this.__map=i.fillArraySuper(0,{raw:t,col:t}),this},Object.defineProperty(t.prototype,"data",{get:function(){return this.map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"score",{get:function(){return this.updateTimes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxValue",{get:function(){return this.maxValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isChanged",{get:function(){return this.__map.toString()!==this.map.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"result",{get:function(){return Boolean(Math.abs(this.updateTimes)%2)},enumerable:!0,configurable:!0}),t.prototype.merge=function(t,e){var n,o=this;switch(void 0===e&&(e=this.map),i.visitArray(this.map,function(t,e){o.__map[t][e]=o.map[t][e]}),t){case"left":var r=this.mergeSuper(e,this.mergeLeft);this.map=r.map,n=r.delta;break;case"right":r=this.mergeSuper(e,this.mergeRight);this.map=r.map,n=r.delta;break;case"up":r=this.mergeSuper(i.transformArray(e),this.mergeLeft);n=i.transformArray(r.delta),this.map=i.transformArray(r.map);break;case"down":r=this.mergeSuper(i.transformArray(e),this.mergeRight);n=i.transformArray(r.delta),this.map=i.transformArray(r.map);break;default:throw new Error("Data merge method error")}return n},Object.defineProperty(t.prototype,"isFull",{get:function(){var t=this;return this.hasNext=!1,i.visitArray(this.map,function(e,n){0===t.map[e][n]&&(t.hasNext=!0)}),!this.hasNext},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasTwice",{get:function(){return i.hasTwiceSuper(this.map)},enumerable:!0,configurable:!0}),t.prototype.addRand=function(t){var e=this;void 0===t&&(t=1);var n=i.PointList();return i.moreFunc(function(){if(i.visitArray(e.map,function(t,i){0===e.map[t][i]&&(n.push({x:t,y:i}),e.hasNext=!0)}),e.hasNext){var t=i.toInt(Math.random()*n.length);i.alterArray(e.map,{raw:n[t].x,col:n[t].y,value:2})}},t),this.hasNext},t}();n.default=o,cc._RF.pop()},{"./MathVec":"MathVec"}],EndLayout:[function(t,e,n){"use strict";cc._RF.push(e,"64fb6nSVS1CZ4msPhRE0aT0","EndLayout"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,c=t("./Data"),a=t("./Model"),s=t("./SceneMediator"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=null,e.title=null,e.restartBtn=null,e.maxValue=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.maxValue=c.default.getInstance().MaxValue},e.prototype.start=function(){var t=this;c.default.getInstance().result?(this.title.string="Win! "+this.maxValue+"!",this.score.string=String(c.default.getInstance().score-1)):(this.title.string="Over",this.score.string=String(c.default.getInstance().score)),this.restartBtn.node.on("click",function(){a.default.getInstance().returnPreLayout(t.node),s.default.getInstance().reload()})},__decorate([r(cc.Label)],e.prototype,"score",void 0),__decorate([r(cc.Label)],e.prototype,"title",void 0),__decorate([r(cc.Button)],e.prototype,"restartBtn",void 0),e=__decorate([o],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Data":"Data","./Model":"Model","./SceneMediator":"SceneMediator"}],HActionComponent:[function(t,e,n){"use strict";cc._RF.push(e,"dd86cTJwoRLD4RfQUrUrE7G","HActionComponent"),e.exports=cc.Class({extends:cc.Component,getTargetNode:function(){return this._targetNode},getActionEngine:function(){return this.actionEngine||(this.actionEngine=t("HActionEngine")()),this.actionEngine},__$init:function(t){this._targetNode=t},onLoad:function(){this._targetNode=this.node},addActionToTickQueue:function(t){t.getComponent()?cc.warn("HActionComponent -> addActionToTickQueue warn: \u91cd\u590d\u6dfb\u52a0HAction\u53ef\u80fd\u4f1a\u5e26\u6765\u4e0d\u53ef\u77e5\u7684\u95ee\u9898\uff01 "):(this.getActionEngine().pushActionToQueue(t),t.startWithTarget(this))},removeAction:function(t){return this.getActionEngine().removeAction(t)},removeActions:function(t){for(var e=this.getActionEngine(),n=0;n<t.length;n++)e.destroyAction(t[n])},removeAllActions:function(){return this.getActionEngine().removeAllActions(this)},getRunningActions:function(){return this.getActionEngine().getRunningActions(this)},getActionByTag:function(t){return this.getActionEngine().getActionByTag(this,t)},playComplete:function(t){return this.getActionEngine().actionPlayComplete(t)},addActionToInvalidList:function(t){return this.getActionEngine().addActionToInvalidList(t)},destroyAction:function(t){return this.getActionEngine().__invalidActionAndNext(t)},onDestroy:function(){this.actionEngine&&this.actionEngine.removeAllActions(this),this.actionEngine=null,this._targetNode=null}}),cc._RF.pop()},{HActionEngine:"HActionEngine"}],HActionEngine:[function(t,e,n){"use strict";cc._RF.push(e,"31c46uiyt5LL5IVA/3tEnKZ","HActionEngine");var i=t("HAction"),o=t("HActionComponent"),r=cc.Class({ctor:function(){this.uuid="HActionEngine",this._id=this.uuid,this._actions=[],this._tempInvalidIds={},cc.director.getScheduler().scheduleUpdate(this,0,!1)},pushActionToQueue:function(t){t instanceof i||cc.error("HActionEngine -> pushActionToQueue error: params must be a subclass of HAction!"),this._actions.push(t)},getActionByTag:function(t,e){t instanceof o||cc.error("HActionEngine -> getActionByTag error: params must be a instance of HActionComponent!");for(var n=this._actions.length,i=0;i<n;i++){var r=this._actions[i];if(r.getComponent().uuid===t.uuid){if(r.getTag()===e)return r;for(var c=r.$getNextAction();c;){if(c.getTag()===e)return c;c,c=c.$getNextAction()}}}return null},getRunningActions:function(t){t instanceof o||cc.error("HActionEngine -> getRunningActions error: params must be a instance of HActionComponent!");for(var e=[],n=this._actions.length,i=0;i<n;i++){var r=this._actions[i];r.getComponent().uuid===t.uuid&&r.getState()===ezaction.State.RUNNING&&e.push(r)}return e},removeAction:function(t){if(t instanceof i||cc.error("HActionEngine -> removeAction error: params must be a subclass of HAction!"),t.getState()!==ezaction.State.DEAD){for(var e=t.$uuid,n=this._actions.length,o=0;o<n;o++){var r=this._actions[o];if(r.$uuid===e)return this.__invalidActionAndNext(r),!0;for(var c=r,a=r.$getNextAction();a;){if(a.$uuid===e)return c.$removeNextAction(),!0;c=a,a=a.$getNextAction()}}return!1}},removeAllActions:function(t){t instanceof o||cc.error("HActionEngine -> removeAllActions error: params must be a instance of HActionComponent!");for(var e=this._actions.length,n=0;n<e;n++){var i=this._actions[n];i.getComponent().uuid===t.uuid&&this.__invalidActionAndNext(i)}},actionPlayComplete:function(t){for(var e=this._actions.length,n=0;n<e;n++){if(this._actions[n].$uuid===t.$uuid){var i=t.$getNextAction();i&&(i.startWithTarget(t.getComponent()),this._actions[n]=i),t.$invalid();break}}},__invalidActionAndNext:function(t){for(var e=t.$getNextAction();e;){var n=e;e=n.$getNextAction(),n.$invalid()}t.$invalid()},addActionToInvalidList:function(t){t instanceof i||cc.error("HActionEngine -> addActionToInvalidList error: params must be a subclass of HAction!"),this._tempInvalidIds[t.$uuid]=t},update:function(t){var e=this._actions;if(Object.keys(this._tempInvalidIds).length>0){for(var n in this._tempInvalidIds)this._tempInvalidIds[n].$destroy();for(var i=0,o=!0,r=e.length;i<r;o?i++:i)e[i]&&this._tempInvalidIds[e[i].$uuid]?(e.splice(i,1),o=!1):o=!0;this._tempInvalidIds={}}e.forEach(function(e){var n=e.getComponent();n&&n.enabled&&n.isValid&&e._$update(t)})}}),c=null;e.exports=function(){return c||(c=new r)},cc._RF.pop()},{HAction:"HAction",HActionComponent:"HActionComponent"}],HActionInstant:[function(t,e,n){"use strict";cc._RF.push(e,"c1ce5m3CI9J0oYW6IeihgOF","HActionInstant");var i=cc.Class({extends:t("HAction"),ctor:function(){},update:function(t){this.$actionComplete()},cloneSelf:function(){var t=new i;return t.init(this.getVars()),t}});i.create=function(t){var e=new i;return e.init(t),e},e.exports=i,cc._RF.pop()},{HAction:"HAction"}],HActionInterval:[function(t,e,n){"use strict";cc._RF.push(e,"46adaO1SFNFJL7ueeCyHPzE","HActionInterval");var i=cc.Class({extends:t("HAction"),ctor:function(){this._duration=.001,this._currentTime=0,this._progress=0,this._lastprogress=0},getCurrentTime:function(){return this._currentTime},getDuration:function(){return this._duration},getProgress:function(){return this._progress},init:function(t,e){t>0&&(this._duration=t),this._super(e)},playAction:function(){this._super(),this._currentTime=0,this._progress=0,this._lastprogress=0},$update:function(t){this._currentTime+=t,this._currentTime>=this._duration?(this._progress=1,this.update(this._progress),this.$actionComplete()):(this._progress=this._currentTime/this._duration,this.update(this._progress))},update:function(t){if("function"==typeof this._vars.easing){var e=this._lastprogress;this._progress=this._vars.easing(this._progress),this._lastprogress=this._progress,e<1&&this._progress>1&&"function"==typeof this._vars.onArrived&&this._vars.onArrived(this)}this._super(this._progress)},onArrived:function(t){return"function"==typeof t&&(this._vars.onArrived=t),this},easing:function(t){return"function"==typeof t&&(this._vars.easing=t),this},cloneSelf:function(){var t=new i;return t.init(this.getDuration(),this.getVars()),t},$destroy:function(){this._super()}});i.create=function(t,e){var n=new i;return n.init(t,e),n},e.exports=i,cc._RF.pop()},{HAction:"HAction"}],HActionJump:[function(t,e,n){"use strict";cc._RF.push(e,"2835eb0qaxACqlGJ2tG9uT4","HActionJump");var i=cc.Class({extends:t("HActionInterval"),ctor:function(){this._delta={x:0,y:0},this._height=0,this._jumps=1,this._startPos={}},init:function(t,e,n,i,o){this._super(t,o),this._delta.x=e.x,this._delta.x=e.y,this._height=n,this._jumps=i},startWithTarget:function(t){this._super(t),this._startPos.x=this.getNode().x,this._startPos.y=this.getNode().y},update:function(t){this._super(t);this._vars;var e=this.getNode(),n=(this.getProgress(),t*this._jumps%1),i=4*this._height*n*(1-n);i+=this._delta.y*t,e.y=this._startPos.y+i,e.x=this._startPos.x+this._delta.x*dt},cloneSelf:function(){var t=new i;return t.init(this.getDuration(),this._delta,this._height,this._jumps,this.getVars()),t.easing(this.easingFunc),t}}),o=cc.Class({extends:i,ctor:function(){this._endPos={x:0,y:0}},init:function(t,e,n,i,o){this._super(t,e,n,i,o),this._endPos.x=e.x,this._endPos.y=e.y},startWithTarget:function(t){this._super(t),this._delta.x=this._endPos.x-this._startPos.x,this._delta.y=this._endPos.y-this._startPos.y},cloneSelf:function(){var t=new o;return t.init(this.getDuration(),this._endPos,this._height,this._jumps,this.getVars()),t}});e.exports={jumpBy:i,jumpTo:o},cc._RF.pop()},{HActionInterval:"HActionInterval"}],HActionSequence:[function(t,e,n){"use strict";cc._RF.push(e,"58aa7FHegpJ8Y8lZ/7cwdMu","HActionSequence");var i=cc.Class({extends:t("HAction"),ctor:function(){this._actions=[]},setSpeed:function(t){return t=Math.abs(t),this._actions.forEach(function(e){e.setSpeed(t)}),this._super(t)},pushAction:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];e&&i.setSpeed(this.getSpeed()),this._actions.push(i)}},playAction:function(){this._super();for(var t=this._actions.length,e=0;e<t;e++)for(var n=this._actions[e];n;)n.playAction(),n=n.$getNextAction()},$update:function(t){if(this._super(t),this._actions){for(var e=!0,n=this._actions.length,i=0;i<n;i++){for(var o=this._actions[i];o;){if(o.getNode()||o.startWithTarget(this._actionComponent),o.isRunning()){o._$update(t),e=!1;break}o=o.$getNextAction()}if(!e)break}e&&this.$actionComplete()}else this.$actionComplete()},cloneSelf:function(){var t=new i;if(t.init(this.getVars()),this._actions){var e=[];this._actions.forEach(function(t){e.push(t.clone())}),t.pushAction(e,!1),e=null}return t},$invalid:function(){this._actions?(this._actions.forEach(function(t){t.destroy()}),this._actions=null,this._super()):this._super()},$destroy:function(){this._actions=null,this._super()}});i.create=function(t,e){var n=new i;return n.init(e),n.pushAction(t),n},e.exports=i,cc._RF.pop()},{HAction:"HAction"}],HActionSpawn:[function(t,e,n){"use strict";cc._RF.push(e,"258d5YJqmtEtLCNgqnb/iHH","HActionSpawn");var i=cc.Class({extends:t("HAction"),ctor:function(){this._actions=[]},setSpeed:function(t){t=Math.abs(t);for(var e=0;e<this._actions.length;e++)this._actions[e].setSpeed(t);return this._super(t)},pushAction:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];e&&i.setSpeed(this.getSpeed()),this._actions.push(i)}},playAction:function(){this._super();for(var t=this._actions.length,e=0;e<t;e++)for(var n=this._actions[e];n;)n.playAction(),n=n.$getNextAction()},$update:function(t){if(this._super(t),this._actions){for(var e=!0,n=this._actions.length,i=0;i<n;i++)for(var o=this._actions[i];o;){if(o.getNode()||o.startWithTarget(this._actionComponent),o.isRunning()){o._$update(t),e=!1;break}o=o.$getNextAction()}e&&this.$actionComplete()}else this.$actionComplete()},cloneSelf:function(){var t=new i;if(t.init(this.getVars()),this._actions){var e=[];this._actions.forEach(function(t){e.push(t)}),t.pushAction(e,!1),e=null}return t},$invalid:function(){this._actions?(this._actions.forEach(function(t){t.destroy()}),this._actions=null,this._super()):this._super()},$destroy:function(){this._actions=null,this._super()}});i.create=function(t,e){var n=new i;return n.init(e),n.pushAction(t),n},e.exports=i,cc._RF.pop()},{HAction:"HAction"}],HActionTweenBase:[function(t,e,n){"use strict";cc._RF.push(e,"1c55dk+bEBLo6Fjy3K2tAt9","HActionTweenBase");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=cc.Class({extends:t("HActionInterval"),ctor:function(){this._intialAttrList=null,this._target=null},setTarget:function(t){this._target=t},getTarget:function(){return this._target||this.getNode()},playAction:function(){if(this._super(),this._intialAttrList){var t=this.getTarget(),e=this._intialAttrList;for(var n in e)t[n]=e[n]}},startWithTarget:function(t){this._super(t),this._intialAttrList={};var e=this.getTarget();for(var n in this._vars){if("tag"!=n)if("number"==typeof e[n])"number"===i(e[n])&&(this._intialAttrList[n]=e[n])}},$destroy:function(){this._intialAttrList=null,this._super()}});e.exports=o,cc._RF.pop()},{HActionInterval:"HActionInterval"}],HActionTweenBy:[function(t,e,n){"use strict";cc._RF.push(e,"730acq1UkJFEbOj3Hp8CXaM","HActionTweenBy");var i=cc.Class({extends:t("HActionTweenBase"),ctor:function(){},update:function(t){this._super(t);var e=this._vars,n=this.getTarget(),i=this.getProgress(),o=this._intialAttrList;for(var r in o){var c=o[r];n[r]=c+e[r]*i}},cloneSelf:function(){var t=new i;return t.init(this.getDuration(),this.getVars()),t.easing(this.easingFunc),t}});i.create=function(t,e){var n=new i;return n.init(t,e),n},e.exports=i,cc._RF.pop()},{HActionTweenBase:"HActionTweenBase"}],HActionTween:[function(t,e,n){"use strict";cc._RF.push(e,"e8626SDhpZCIZBVpRkFcwcT","HActionTween");var i=cc.Class({extends:t("HActionTweenBase"),ctor:function(){},update:function(t){this._super(t);var e=this._vars,n=this.getTarget(),i=this.getProgress(),o=this._intialAttrList;for(var r in o){var c=o[r];n[r]=c+(e[r]-c)*i}},cloneSelf:function(){var t=new i;return t.init(this.getDuration(),this.getVars()),t.easing(this.easingFunc),t}});i.create=function(t,e){var n=new i;return n.init(t,e),n},e.exports=i,cc._RF.pop()},{HActionTweenBase:"HActionTweenBase"}],HAction:[function(t,e,n){"use strict";cc._RF.push(e,"84e0bbxVW5IH6aowWDSzL10","HAction"),t("HNodeEx");var i=t("HVars"),o=function(){var t=0;return function(){return"__HAction_uuid_"+t++}}(),r=cc.Class({ctor:function(){this.$uuid=o(),this._delay=0,this._state=ezaction.State.INITIAL,this._finishCallback=null,this._actionComponent=null,this.__nextAction=null,this._vars=new i,this._isStart=!1,Object.defineProperty(this,"vars",{get:function(){return this._vars}})},setTag:function(t){this._vars.tag=t},getTag:function(){return this._vars.tag},getState:function(){return this._state},isRunning:function(){return this._state===ezaction.State.RUNNING},getSpeed:function(){return this._vars.speed},setSpeed:function(t){if(!(t<=0))return this._vars.speed=t,this;cc.warn("HAction -> setSpeed: speed must be positive number")},getVars:function(){return this._vars},getNode:function(){return this._actionComponent?this._actionComponent.getTargetNode():null},getComponent:function(){return this._actionComponent},pause:function(){return this._state===ezaction.State.RUNNING&&(this._state=ezaction.State.PAUSED),this},resume:function(){return this._state===ezaction.State.PAUSED&&(this._state=ezaction.State.RUNNING),this},init:function(t){this._vars.patchParams(t)},startWithTarget:function(t){if(this._actionComponent)throw new Error("Error, HAction Had been added! ");this._actionComponent=t,this.playAction()},playAction:function(){this._state=ezaction.State.RUNNING,this._delay=this._vars.delay,this._isStart=!1},_$update:function(t){var e=this._vars;t*=e.speed,this._state===ezaction.State.RUNNING&&(this._delay-=t,this._delay<=0&&(this._isStart||(this._isStart=!0,"function"==typeof e.onStart&&e.onStart(this)),this.$update(t),this.isRunning()&&"function"==typeof e.onUpdate&&e.onUpdate(this,t)))},$update:function(t){this.update(0)},update:function(t){},$actionComplete:function(){var t=this._vars;"function"==typeof t.onComplete&&t.onComplete(this);var e=t.repeat;e>0?(this.playAction(),this.repeat(e-1)):(this._state=ezaction.State.STOPPED,"function"==typeof t.onStoped&&t.onStoped(this),this._finishCallback&&this._finishCallback(this,this.$getNextAction()),this._actionComponent&&this._actionComponent.playComplete(this))},$setFinishCallback:function(t){this._finishCallback=t},$getNextAction:function(){return this.__nextAction},$setNextAction:function(t,e){var n=9999999;"number"==typeof e&&e>-1&&(n=e);for(var i=0,o=this,r=this.__nextAction;r&&i!==n&&(o=r,r=r.__nextAction);)++i;return r&&r.destroy(),o.__nextAction=t,t},$removeNextAction:function(){this.__nextAction&&this.__nextAction.destroy(),this.__nextAction=null},then:function(t){return this.__nextAction&&this.__nextAction.$destroy(),this.__nextAction=t,this},clone:function(){for(var t=this.cloneSelf(),e=this.$getNextAction();e;)t.$setNextAction(e.cloneSelf()),e=e.$getNextAction();return t},cloneSelf:function(){return null},repeatForever:function(){return this._vars.repeat=Number.MAX_VALUE,this},repeat:function(t){return this._vars.repeat=t,this},onStart:function(t){return"function"==typeof t&&(this._vars.onStart=t),this},onUpdate:function(t){return"function"==typeof t&&(this._vars.onUpdate=t),this},onComplete:function(t){return"function"==typeof t&&(this._vars.onComplete=t),this},onStoped:function(t){return"function"==typeof t&&(this._vars.onStoped=t),this},destroy:function(){this._state!=ezaction.State.DEAD&&(this._actionComponent?(this._state=ezaction.State.DEAD,this._actionComponent.destroyAction(this)):this.$destroy())},$invalid:function(){this._state!=ezaction.State.DEAD&&(this._actionComponent?(this._state=ezaction.State.DEAD,this._actionComponent.addActionToInvalidList(this)):this.$destroy())},$destroy:function(){this._state=ezaction.State.DEAD,this._vars=null,this.__nextAction=null,this._finishCallback=null,this._actionComponent=null}});e.exports=r,cc._RF.pop()},{HNodeEx:"HNodeEx",HVars:"HVars"}],HCustomEase:[function(t,e,n){"use strict";cc._RF.push(e,"4f2d4S1LDFLHpclnFF6vLLd","HCustomEase");var i=function(){var t=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,e=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,i=/[cLlsS]/g,o="CustomEase only accepts Cubic Bezier data.",r=function t(e,n,i,o,r,c,a,s,u,h,l){var f,p=(e+i)/2,d=(n+o)/2,_=(i+r)/2,g=(o+c)/2,y=(r+a)/2,v=(c+s)/2,m=(p+_)/2,A=(d+g)/2,b=(_+y)/2,x=(g+v)/2,H=(m+b)/2,S=(A+x)/2,w=a-e,C=s-n,T=Math.abs((i-a)*C-(o-s)*w),I=Math.abs((r-a)*C-(c-s)*w);return h||(h=[{x:e,y:n},{x:a,y:s}],l=1),h.splice(l||h.length-1,0,{x:H,y:S}),(T+I)*(T+I)>u*(w*w+C*C)&&(f=h.length,t(e,n,p,d,m,A,H,S,u,h,l),t(H,S,b,x,y,v,a,s,u,h,l+1+(h.length-f))),h},c=function(t){var e=this.lookup[t*this.l|0]||this.lookup[this.l-1];return e.nx<t&&(e=e.n),e.y+(t-e.x)/e.cx*e.cy},a=function(t,e,n){this._calcEnd=!0,this.id=t,this.getRatio=c,this.setData(e,n)},s=a.prototype;return s.setData=function(c,a){var s,u,h,l,f,p,d,_,g,y,v=(c=c||"0,0,1,1").match(t),m=1,A=[];if(y=(a=a||{}).precision||1,this.data=c,this.lookup=[],this.points=A,this.fast=y<=1,(i.test(c)||-1!==c.indexOf("M")&&-1===c.indexOf("C"))&&(v=function(t){var i,r,c,a,s,u,h,l,f,p,d,_=(t+"").replace(n,function(t){var e=+t;return e<1e-4&&e>-1e-4?0:e}).match(e)||[],g=[],y=0,v=0,m=_.length,A=2;for(i=0;i<m;i++)if(f=a,isNaN(_[i])?s=(a=_[i].toUpperCase())!==_[i]:i--,r=+_[i+1],c=+_[i+2],s&&(r+=y,c+=v),i||(h=r,l=c),"M"===a)u&&u.length<8&&(g.length-=1,A=0),y=h=r,v=l=c,u=[r,c],A=2,g.push(u),i+=2,a="L";else if("C"===a)u||(u=[0,0]),u[A++]=r,u[A++]=c,s||(y=v=0),u[A++]=y+1*_[i+3],u[A++]=v+1*_[i+4],u[A++]=y+=1*_[i+5],u[A++]=v+=1*_[i+6],i+=6;else if("S"===a)"C"===f||"S"===f?(p=y-u[A-4],d=v-u[A-3],u[A++]=y+p,u[A++]=v+d):(u[A++]=y,u[A++]=v),u[A++]=r,u[A++]=c,s||(y=v=0),u[A++]=y+=1*_[i+3],u[A++]=v+=1*_[i+4],i+=4;else{if("L"!==a&&"Z"!==a)throw o;"Z"===a&&(r=h,c=l,u.closed=!0),("L"===a||Math.abs(y-r)>.5||Math.abs(v-c)>.5)&&(u[A++]=y+(r-y)/3,u[A++]=v+(c-v)/3,u[A++]=y+2*(r-y)/3,u[A++]=v+2*(c-v)/3,u[A++]=r,u[A++]=c,"L"===a&&(i+=2)),y=r,v=c}return g[0]}(c)),4===(s=v.length))v.unshift(0,0),v.push(1,1),s=8;else if((s-2)%6)throw o;for(0==+v[0]&&1==+v[s-2]||function(t,e,n){n||0===n||(n=Math.max(+t[t.length-1],+t[1]));var i,o=-1*+t[0],r=-n,c=t.length,a=1/(+t[c-2]+o),s=-e||(Math.abs(+t[c-1]-+t[1])<.01*(+t[c-2]-+t[0])?function(t){var e,n=t.length,i=999999999999;for(e=1;e<n;e+=6)+t[e]<i&&(i=+t[e]);return i}(t)+r:+t[c-1]+r);for(s=s?1/s:-a,i=0;i<c;i+=2)t[i]=(+t[i]+o)*a,t[i+1]=(+t[i+1]+r)*s}(v,a.height,a.originY),this.rawBezier=v,l=2;l<s;l+=6)u={x:+v[l-2],y:+v[l-1]},h={x:+v[l+4],y:+v[l+5]},A.push(u,h),r(u.x,u.y,+v[l],+v[l+1],+v[l+2],+v[l+3],h.x,h.y,1/(2e5*y),A,A.length-1);for(s=A.length,l=0;l<s;l++)d=A[l],_=A[l-1]||d,d.x>_.x||_.y!==d.y&&_.x===d.x||d===_?(_.cx=d.x-_.x,_.cy=d.y-_.y,_.n=d,_.nx=d.x,this.fast&&l>1&&Math.abs(_.cy/_.cx-A[l-2].cy/A[l-2].cx)>2&&(this.fast=!1),_.cx<m&&(_.cx?m=_.cx:(_.cx=.001,l===s-1&&(_.x-=.001,m=Math.min(m,.001),this.fast=!1)))):(A.splice(l--,1),s--);if(s=1/m+1|0,this.l=s,f=1/s,p=0,d=A[0],this.fast){for(l=0;l<s;l++)g=l*f,d.nx<g&&(d=A[++p]),u=d.y+(g-d.x)/d.cx*d.cy,this.lookup[l]={x:g,cx:f,y:u,cy:0,nx:9},l&&(this.lookup[l-1].cy=u-this.lookup[l-1].y);this.lookup[s-1].cy=A[A.length-1].y-u}else{for(l=0;l<s;l++)d.nx<l*f&&(d=A[++p]),this.lookup[l]=d;p<A.length-1&&(this.lookup[l-1]=A[A.length-2])}return this._calcEnd=1!==A[A.length-1].y||0!==A[0].y,this},s.getRatio=c,a}(),o={create:function(t,e,n){return new i(t,e,n)}};e.exports=o,cc._RF.pop()},{}],HEaseDefine:[function(t,e,n){"use strict";cc._RF.push(e,"5c8c6nso71KdZ2ZxJKYS6bz","HEaseDefine");var i={};e.exports=i;i.easeIn=function(t){var e=t;return function(t){return Math.pow(t,e)}},i.easeOut=function(t){var e=t;return function(t){return Math.pow(t,1/e)}},i.easeInOut=function(t){var e=t;return function(t){var n=2*t;return n<1?.5*Math.pow(n,e):1-.5*Math.pow(2-n,e)}},i.backEaseIn=function(t){return function(t){return t*t*(2.70158*t-1.70158)}},i.easeBackOut=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158)||1.70158;return function(e){return(e-=1)*e*((t+1)*e+t)+1}},i.EaseElasticIn=function(t){var e=t||.3;return function(t){var n=0;if(0==t||1==t)n=t;else{var i=e/4;t-=1,n=-Math.pow(2,10*t)*Math.sin(6.283185307*(t-i)/e)}return n}},i.EaseElasticOut=function(t){var e=t||.3;return function(t){var n=0;if(0==t||1==t)n=t;else{var i=e/4;n=Math.pow(2,-10*t)*Math.sin(6.283185307*(t-i)/e)+1}return n}},i.backEaseOut=function(){return function(t){return(t-=1)*t*(2.70158*t+1.70158)+1}},i.sineEaseOut=function(){return function(t){return Math.sin(6.283185307*t)}},i.sineEaseIn=function(){return function(t){return-1*Math.cos(6.283185307*t)+1}},i.cubicEaseOut=function(){return function(t){return(t-=1)*t*t+1}},i.customEase=function(t){var e=t;return function(t){return e.getRatio(t)}},cc._RF.pop()},{}],HNodeEx:[function(t,e,n){"use strict";cc._RF.push(e,"a43164XxFxHMZs8dn2a2WWD","HNodeEx");var i=t("HActionComponent"),o=cc.Node.prototype;o.RunAction=function(t){if(this._components){var e=this.getComponent(i);return e||(this.addComponent(i),(e=this.getComponent(i)).__$init(this)),e.addActionToTickQueue(t),t}},o.RemoveAction=function(t){if(this._components){var e=this.getComponent(i);e&&e.removeAction(t)}},o.RemoveActionByTag=function(t){if(this._components){var e=this.GetActionByTag(t);e&&this.RemoveAction(e)}},o.RemoveAllActions=function(){if(this._components){var t=this.getComponent(i);t&&t.removeAllActions()}},o.StopAllActions=o.RemoveAllActions,o.GetRunningActions=function(){if(!this._components)return[];var t=this.getComponent(i);return t?t.getRunningActions():[]},o.GetActionByTag=function(t){if(!this._components)return null;var e=this.getComponent(i);return e?e.getActionByTag(t):null},o.RemoveEZActionComponent=function(){this.removeComponent(i)},cc._RF.pop()},{HActionComponent:"HActionComponent"}],HVars:[function(t,e,n){"use strict";cc._RF.push(e,"17a79sQmjZAmb/OJyWs7wsd","HVars");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){this.tag=0,this.speed=1,this.repeat=0,this.delay=0};o.prototype.clone=function(t){for(var e=t||{},n=Object.keys(this),o=0;o<n.length;o++){var r=n[o];i(this[r]);if(this[r]instanceof Array){e[r]=[];for(var c=0;c<this[r].length;c++)e[r][c]=this[r][c]}else e[r]=this[r]}return e},o.prototype.patchParams=function(t){if(t)if(t instanceof o)t.clone(this);else for(var e in t)this[e]=t[e]},e.exports=o,cc._RF.pop()},{}],ILayout:[function(t,e,n){"use strict";cc._RF.push(e,"861c82ZH5NIoYVakrDB88Xw","ILayout"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IMathVec:[function(t,e,n){"use strict";cc._RF.push(e,"36d56lmxKJLm44XYDEXz8DZ","IMathVec"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ITouchFront:[function(t,e,n){"use strict";cc._RF.push(e,"9cafcPWqOtLEJ6X3LYzgEew","ITouchFront"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],Layout:[function(t,e,n){"use strict";cc._RF.push(e,"3ac41bWtadIhbxvIIe9zzBb","Layout"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Model"),o=t("./MathVec"),r=function(){function t(t){var e=this;return this.color={2:cc.color(237,241,21,255),4:cc.color(241,180,21,255),8:cc.color(171,241,21,255),16:cc.color(149,160,216,255),32:cc.color(187,149,216,255),64:cc.color(216,149,209,255),128:cc.color(28,118,156,255),256:cc.color(16,74,99,255),512:cc.color(168,85,25,255),1024:cc.color(236,122,38,255),2048:cc.color(236,86,33,255)},this.initEdge=function(t){return e.edge=t,e.origin=cc.v2(t.width.start,-t.width.start),e.width=e.edge.width.end-e.edge.width.start,e.height=e.edge.height.end-e.edge.height.start,e},this.background=t,this}return t.prototype.draw=function(t){var e=this,n=this.width/(t[0].length-1),r=this.height/(t.length-1);i.default.getInstance().clearNodeList(),o.visitArray(t,function(o,c){if(0!==t[o][c]){var a=cc.v2(e.origin.x+n*c,e.origin.y-r*o),s=i.default.getInstance().getBlock();s.setParent(e.background),s.setPosition(a),e.setNodeTarget(s,{raw:o,col:c}),s.getChildByName("label").getComponent(cc.Label).string=String(t[o][c]),s.color=e.color[String(t[o][c])],i.default.getInstance().saveNode(s)}})},t.prototype.action=function(t,e,n,i){var r=this;o.visitArray(e,function(o,c){0!==e[o][c]&&r.getNodeByTarget(r.background,{raw:o,col:c}).RunAction(r.getAction(t,100*e[o][c],i)).onStoped(n)})},t.prototype.getAction=function(t,e,n){switch(void 0===n&&(n=.5),t){case"left":return ezaction.moveBy(n,cc.v2(-e,0));case"right":return ezaction.moveBy(n,cc.v2(e,0));case"up":return ezaction.moveBy(n,cc.v2(0,e));case"down":return ezaction.moveBy(n,cc.v2(0,-e));default:throw new Error("action command error")}},t.prototype.setNodeTarget=function(t,e){t.name=String(e.raw+""+e.col)},t.prototype.getNodeByTarget=function(t,e){return t.getChildByName(String(e.raw+""+e.col))},t}();n.default=r,cc._RF.pop()},{"./MathVec":"MathVec","./Model":"Model"}],MathVec:[function(t,e,n){"use strict";cc._RF.push(e,"52e985goOdDtZl/ZcjFtyDc","MathVec"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.start=t,this.step=e,this.num=n}return t.prototype.randPos=function(){var t=this.start+parseInt(String(Math.random()*this.num))*this.step;return cc.v2(t,t)},t.prototype.randVaule=function(){return this.start+parseInt(String(Math.random()*this.num*this.step))},t}();function o(t){for(var e=new Array,n=t.length,i=0;i<n;i++){e.push([]);for(var o=t[i].length,r=0;r<o;r++)e[i][r]=t[r][i]}return e}function r(t){return parseInt(String(t))}function c(t){for(var e=t.length,n=!1,i=0;i<e-1;i++)if(t[i]===t[i+1]){n=!0;break}return n}function a(t){for(var e=!1,n=0,i=t;n<i.length;n++){if(e=c(i[n]))break}return e}n.default=i,n.transformArray=o,n.visitArray=function(t,e){for(var n=t.length,i=0;i<n;i++)for(var o=t[i].length,r=0;r<o;r++)e(i,r)},n.visitArrayRand=function(t,e){var n=r(Math.random()*t.length);e(n,r(Math.random()*t[n].length))},n.moreFunc=function(t,e){void 0===e&&(e=1);var n=0,i=function(){n>=e||(n++,t(),i())};i()},n.toInt=r,n.randFunc=function(t,e){void 0===e&&(e=1.5);var n=Boolean(r(Math.random()*e));n&&t(n)},n.alterArray=function(t,e){t[e.raw][e.col]=e.value},n.computed=function(t,e,n){var i;switch(e){case"+":i=cc.v2(t.x+n.x,t.y+n.y);break;case"-":i=cc.v2(t.x-n.x,t.y-n.y);break;case"*":i=cc.v2(t.x*n.x,t.y*n.y);break;case"/":i=cc.v2(t.x/n.x,t.y/n.y);break;default:throw new Error("computed method unknown")}return i},n.PointList=function(){return new Array},n.judgePos=function(t,e){return t.x===e.x&&t.y===e.y},n.fillArray=function(t,e){void 0===e&&(e=1);for(var n=new Array,i=0;i<e;i++)n.push(t);return n},n.fillArraySuper=function(t,e){for(var n=new Array,i=0;i<e.raw;i++){n.push([]);for(var o=0;o<e.col;o++)n[i][o]=t}return n},n.hasTwice=c,n.testRows=a,n.hasTwiceSuper=function(t){var e,n;return e=a(t),n=a(o(t)),e||n},cc._RF.pop()},{}],Model:[function(t,e,n){"use strict";cc._RF.push(e,"b73914aW/NNkYUN5R1ykRc4","Model"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this._BlockPool=new cc.NodePool,this._layoutCache=new cc.NodePool,this._nodeList=new Array}return t.getInstance=function(){return this.instance=this.instance?this.instance:new t,this.instance},t.prototype.initPool=function(t,e){for(var n=0;n<e;++n){var i=cc.instantiate(t);this._BlockPool.put(i)}return this._prafab=t,this},t.prototype.initPreLayout=function(t){var e=cc.instantiate(t);return this._layoutCache.put(e),this},t.prototype.getPreLayout=function(){return this._layoutCache.size()>0?this._layoutCache.get():null},t.prototype.returnPreLayout=function(t){this._layoutCache.put(t)},Object.defineProperty(t.prototype,"NodeList",{get:function(){return this._nodeList},enumerable:!0,configurable:!0}),t.prototype.getBlock=function(){return this._BlockPool.size()>0?this._BlockPool.get():cc.instantiate(this._prafab)},t.prototype.saveNode=function(t){this._nodeList.push(t)},t.prototype.clearNodeList=function(){for(var t=0,e=this._nodeList;t<e.length;t++){var n=e[t];this._BlockPool.put(n),this._nodeList=[]}},t.prototype.ClearPool=function(){this._nodeList=[],this._BlockPool.clear(),this._layoutCache.clear()},t}();n.default=i,cc._RF.pop()},{}],PlayLayer:[function(t,e,n){"use strict";cc._RF.push(e,"6da04JjlNVHKr2BHpKtrKVk","PlayLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,c=t("./TouchBlock"),a=t("./TouchFront"),s=t("./Layout"),u=t("./Model"),h=t("./Data"),l=t("./CameraManager"),f=t("./SceneMediator"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.layout=null,e.blockPrefab=null,e.gameEnd=null,e.score=null,e.backBtn=null,e}return __extends(e,t),e.prototype.onLoad=function(){u.default.getInstance().initPool(this.blockPrefab,16).initPreLayout(this.gameEnd),h.default.getInstance().init(4,2048).addRand(2)},e.prototype.start=function(){this.backBtn.node.on("click",function(){f.default.getInstance().backto(.7,.4,function(){l.default.getInstance().reload(0)})});var t=new s.default(this.layout.node);t.initEdge({width:{start:-150,end:150},height:{start:-150,end:150}}).draw(h.default.getInstance().data),new c.default(new a.default(this.background.node),t,this.score).load()},e.prototype.onDestroy=function(){u.default.getInstance().ClearPool()},__decorate([r(cc.Sprite)],e.prototype,"background",void 0),__decorate([r(cc.Sprite)],e.prototype,"layout",void 0),__decorate([r(cc.Prefab)],e.prototype,"blockPrefab",void 0),__decorate([r(cc.Prefab)],e.prototype,"gameEnd",void 0),__decorate([r(cc.Label)],e.prototype,"score",void 0),__decorate([r(cc.Button)],e.prototype,"backBtn",void 0),e=__decorate([o],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./CameraManager":"CameraManager","./Data":"Data","./Layout":"Layout","./Model":"Model","./SceneMediator":"SceneMediator","./TouchBlock":"TouchBlock","./TouchFront":"TouchFront"}],SceneMediator:[function(t,e,n){"use strict";cc._RF.push(e,"e573c4kbI9H7JynK3cG3EQE","SceneMediator"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./CameraManager"),o=function(){function t(){}return t.getInstance=function(){return this.instance=this.instance?this.instance:new t,this.instance},t.prototype.go=function(t,e,n,o,r){void 0===n&&(n=0),void 0===o&&(o=1),i.default.getInstance().go(t,function(t,i){t.RunAction(ezaction.moveBy(n,cc.v2(0,0))).onStart(e).then(ezaction.moveTo(o,i).onStoped(r))})},t.prototype.goto=function(t,e,n){void 0===t&&(t=1),void 0===e&&(e=.9),void 0===n&&(n=1),this.go(1,function(){cc.Canvas.instance.node.runAction(cc.scaleTo(t,e))},t,n)},t.prototype.backto=function(t,e,n){void 0===t&&(t=1),void 0===e&&(e=1),this.go(-1,void 0,0,e,function(){cc.Canvas.instance.node.runAction(cc.scaleTo(t,1)),n&&setTimeout(n,1e3*t)})},t.prototype.reload=function(){var t=cc.Canvas.instance.node.scale;i.default.getInstance().reload(1,function(){cc.Canvas.instance.node.scale=t})},t}();n.default=o,cc._RF.pop()},{"./CameraManager":"CameraManager"}],StartLayer:[function(t,e,n){"use strict";cc._RF.push(e,"de82c+cpMlP24+Pofcvt7Me","StartLayer"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,r=i.property,c=t("./SceneMediator"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startBtn=null,e}return __extends(e,t),e.prototype.start=function(){this.startBtn.node.on("click",function(){c.default.getInstance().goto(.7,void 0,.4)})},__decorate([r(cc.Button)],e.prototype,"startBtn",void 0),e=__decorate([o],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./SceneMediator":"SceneMediator"}],TouchBlock:[function(t,e,n){"use strict";cc._RF.push(e,"a62381K96BOl7qvrU1EULJ5","TouchBlock"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Data"),o=t("./Model"),r=t("./CameraManager"),c=function(){function t(t,e,n){var c=this;this.load=function(){c.touchFront.submit(c.left,c.right,c.up,c.down).listen()},this.left=function(){c.layoutStep("left")},this.right=function(){c.layoutStep("right")},this.up=function(){c.layoutStep("up")},this.down=function(){c.layoutStep("down")},this.testResult=function(){c._score.string=String(c.DataStn.score),c.DataStn.result?(c.gameEnd(),c._score.string=String(c.DataStn.score-1)):c.DataStn.isFull&&(c.DataStn.hasTwice||(c._score.string=String(c.DataStn.score),c.gameEnd()))},this.gameEnd=function(){var t=o.default.getInstance().getPreLayout();null!==t&&t.setParent(r.default.getInstance().CurrentLayer)},this.touchFront=t,this.layout=e,this._score=n,this.DataStn=i.default.getInstance()}return t.prototype.layoutStep=function(t,e){var n=this;void 0===e&&(e=.2);var i=this.DataStn.merge(t);this.layout.action(t,i,function(){n.layout.draw(n.DataStn.data),n.testResult()},e),this.DataStn.isChanged&&this.DataStn.addRand()},t}();n.default=c,cc._RF.pop()},{"./CameraManager":"CameraManager","./Data":"Data","./Model":"Model"}],TouchFront:[function(t,e,n){"use strict";cc._RF.push(e,"90bc9BwWzRL14heBNXWZVog","TouchFront"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=200);var i=this;this.submit=function(t,e,n,o){return i.callbackLeft=t,i.callbackRight=e,i.callbackUp=n,i.callbackDown=o,i},this.listen=function(){var t;i.node.on(cc.Node.EventType.TOUCH_START,function(e){return t=e.getLocation()}),i.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){i._lock++}),i.node.on(cc.Node.EventType.TOUCH_END,function(e){i._lock<i.delta&&i.testPos(t,e.getLocation()),i._lock=0}),i.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){i._lock<i.delta&&i.testPos(t,e.getLocation()),i._lock=0})},this.testPos=function(t,e){Math.abs(e.x-t.x)<i.offset&&Math.abs(e.y-t.y)<i.offset||(Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?e.x-t.x>i.offset?i.callbackRight&&i.callbackRight():e.x-t.x<-i.offset&&i.callbackLeft&&i.callbackLeft():e.y-t.y>i.offset?i.callbackUp&&i.callbackUp():e.y-t.y<-i.offset&&i.callbackDown&&i.callbackDown())},this.node=t,this.offset=e,this._lock=0,this.delta=n}}();n.default=i,cc._RF.pop()},{}],ezaction:[function(t,e,n){"use strict";cc._RF.push(e,"c21618Z9jxPKo1Aqh68SLIU","ezaction");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=o||{};e.exports=o,window&&"object"===("undefined"==typeof window?"undefined":i(window))&&(window.ezaction=o),o.State={INITIAL:0,RUNNING:1,PAUSED:2,STOPPED:3,DEAD:4},o.HVars=t("HVars"),o.ease=t("HEaseDefine"),o.HAction=t("HAction"),o.HActionInstant=t("HActionInstant"),o.HActionInterval=t("HActionInterval"),o.HActionTween=t("HActionTween"),o.HActionTweenBy=t("HActionTweenBy"),o.HActionSpawn=t("HActionSpawn"),o.HActionSequence=t("HActionSequence"),o.HActionJumpBy=t("HActionJump").jumpBy,o.HActionJumpTo=t("HActionJump").jumpTo,o.HCustomEase=t("HCustomEase");var r=function(t){var e={};for(var n in t){var i=t[n];"number"==typeof i&&(e[n]=i)}return e};o.v2=function(t,e){return"number"==typeof t?{x:t,y:e}:{x:t.x,y:t.y}},o.callFuncWithParam=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r={onComplete:function(){t.apply(void 0,n)}};return o.HActionInstant.create(r)},o.callFunc=function(t,e,n){return(n=n||{}).onComplete=function(){t(e)},o.HActionInstant.create(n)},o.delay=function(t,e){return o.HActionInterval.create(t,e)},o.delayTime=o.delay,o.sequence=function(t,e){return o.HActionSequence.create(t,e)},o.spawn=function(t,e){return o.HActionSpawn.create(t,e)},o.tween=function(t,e,n){e=r(e);var i=n;if(i)for(var c in e)i[c]=e[c];else i=e||{};return o.HActionTween.create(t,i)},o.tweenBy=function(t,e,n){e=r(e);var i=n;if(i)for(var c in e)i[c]=e[c];else i=e||{};return o.HActionTweenBy.create(t,i)},o.moveTo=o.tween,o.moveBy=o.tweenBy,o.scaleTo=o.tween,o.scaleBy=o.tweenBy,o.skewTo=o.tween,o.skewBy=o.tweenBy,o.rotateBy=function(t,e,n){var i=null;return"number"==typeof e?((i={}).rotationX=e,i.rotationY=e):i=e,o.tweenBy(t,i,n)},o.rotateTo=function(t,e,n){var i=null;return"number"==typeof e?((i={}).rotationX=e,i.rotationY=e):i=e,o.tween(t,i,n)},o.fadeTo=function(t,e,n){var i={};return i.opacity=e,o.tween(t,i,n)},o.fadeIn=function(t,e){return o.fadeTo(t,255,e)},o.fadeOut=function(t,e){return o.fadeTo(t,0,e)},o.show=function(t){t=t||{};var e=new o.HActionInstant;return t.onComplete=function(t){t.getNode()._sgNode.setVisible(!0)},e.init(t),e},o.hide=function(t){t=t||{};var e=new o.HActionInstant;return t.onComplete=function(t){t.getNode()._sgNode.setVisible(!1)},e.init(t),e},o.jumpBy=function(t,e,n,i,r){var c=new o.HActionJumpBy;return c.init(t,e,n,i,r),c},o.jumpTo=function(t,e,n,i,r){var c=new o.HActionJumpTo;return c.init(t,e,n,i,r),c},cc._RF.pop()},{HAction:"HAction",HActionInstant:"HActionInstant",HActionInterval:"HActionInterval",HActionJump:"HActionJump",HActionSequence:"HActionSequence",HActionSpawn:"HActionSpawn",HActionTween:"HActionTween",HActionTweenBy:"HActionTweenBy",HCustomEase:"HCustomEase",HEaseDefine:"HEaseDefine",HVars:"HVars"}]},{},["HActionInstant","HActionInterval","HActionJump","HActionTween","HActionTweenBase","HActionTweenBy","HCustomEase","HEaseDefine","HAction","HActionComponent","HActionEngine","HActionSequence","HActionSpawn","HNodeEx","HVars","ezaction","Camera","CameraManager","Data","EndLayout","ILayout","IMathVec","ITouchFront","Layout","MathVec","Model","PlayLayer","SceneMediator","StartLayer","TouchBlock","TouchFront"]);