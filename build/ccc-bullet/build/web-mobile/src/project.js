window.__require=function t(e,n,o){function i(r,a){if(!n[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AutoFollower:[function(t,e,n){"use strict";cc._RF.push(e,"f7c5fBOCURKTIIKCj0w2Bin","AutoFollower");var o=function(t,e){var n=cc.v2(e.x-t.x,e.y-t.y);return cc.v2(n.x/n.mag(),n.y/n.mag())},i=function(t,e,n){var i=void 0===n?1:n,c=o(t,e);t.setPosition(t.x+c.x*i,t.y+c.y*i)};cc.Class({extends:cc.Component,properties:{target:{type:cc.Node,default:null,displayName:"\u76ee\u6807\u9776\u8282\u70b9",tooltip:"\u8ffd\u8e2a\u7684\u76ee\u6807"},speed:{type:cc.Integer,default:2,displayName:"\u79fb\u52a8\u901f\u5ea6",slide:!0,min:0,max:10,step:1}},update:function(){i(this.node,this.target,this.speed/2)}}),cc._RF.pop()},{}],BulletCtrllor:[function(t,e,n){"use strict";cc._RF.push(e,"4835duWYStEKoPbiSpylJol","BulletCtrllor");var o=cc.Enum({portraitUp:0,portraitDown:1,landscapeRight:2,landscapeLeft:3}),i=cc.Enum({NO:0,YES:1});cc.Class({extends:cc.Component,properties:{hero:{default:null,type:cc.Node,displayName:"\u53d1\u5c04\u5668",tooltip:"\u8981\u53d1\u5c04\u5b50\u5f39\u7684\u7cbe\u7075"},bullet:{default:null,type:cc.Prefab,displayName:"\u5b50\u5f39\u9884\u5236\u8d44\u6e90"},speed:{type:cc.Integer,default:3,slide:!0,min:0,max:10,step:1,displayName:"\u5b50\u5f39\u8fdf\u7f13\u5ea6",tooltip:"\u503c\u8d8a\u5927, \u5b50\u5f39\u901f\u5ea6\u8d8a\u6162"},interval:{type:cc.Integer,default:3,slide:!0,min:0,max:30,step:1,displayName:"\u53d1\u5c04\u65f6\u95f4\u95f4\u9694",visible:function(){return this.auto===i.YES}},front:{type:cc.Enum(o),default:o.portraitUp,displayName:"\u5b50\u5f39\u53d1\u5c04\u65b9\u5411",tooltip:"portrait: \u7ad6\u76f4, landscape: \u6c34\u5e73"},auto:{type:cc.Enum(i),default:i.YES,displayName:"\u81ea\u52a8\u53d1\u5c04"},fireButton:{type:cc.Button,default:null,displayName:"\u53d1\u5c04\u6309\u94ae",visible:function(){return this.auto===i.NO}}},start:function(){var t=this;this.auto===i.YES?this.schedule(this.addBullet,this.interval/10):this.fireButton.node.on("click",function(){t.addBullet()})},addBullet:function(){var t=cc.instantiate(this.bullet);t.parent=this.hero.parent;var e=this.hero.parent.convertToWorldSpace(this.hero),n=this.hero.parent.convertToNodeSpace(e);t.position=n;var i=void 0;switch(this.front){case o.portraitUp:i=cc.v2(n.x,cc.winSize.height);break;case o.portraitDown:i=cc.v2(n.x,-cc.winSize.height);break;case o.landscapeRight:i=cc.v2(cc.winSize.width,n.y);break;case o.landscapeLeft:i=cc.v2(-cc.winSize.width,n.y);break;default:throw new Error("front error")}var c=cc.moveTo(this.speed,i);t.runAction(c)}}),cc._RF.pop()},{}],LayoutCtrllor:[function(t,e,n){"use strict";cc._RF.push(e,"49b78sCoaNGuJXSNiFh/rLc","LayoutCtrllor");var o=cc.Enum({HIDDEN:0,VISIBLE:1}),i=cc.Enum({NONE:0,DROP:1,UP:2,TOLEFT:3,TORIGHT:4}),c=cc.Enum({NO:0,YES:1}),r=cc.Enum({NO:0,YES:1}),a=function(t){return function(e){return Boolean(t)?cc.director.isPaused()?cc.director.resume():setTimeout(function(){return cc.director.pause()},1e3*e):null}},s={easeMoveBy:function(t,e){return cc.moveBy(t,e).easing(cc.easeSineInOut(t))},easeMoveTo:function(t,e){return cc.moveTo(t,e).easing(cc.easeSineInOut(t))},enterFromTop:function(t,e){return s.easeMoveBy(t,cc.p(0,-e))},enterFromBottom:function(t,e){return s.easeMoveBy(t,cc.p(0,e))},enterFromLeft:function(t,e){return s.easeMoveBy(t,cc.p(e,0))},enterFromRight:function(t,e){return s.easeMoveBy(t,cc.p(-e,0))},WorldPoint:function(t){return t.parent.convertToWorldSpace(t.getPosition())},desPosOut:function(t){return cc.p(cc.winSize.width/2-t.getContentSize().width,t.y)},desPosIn:function(t,e){return cc.p(cc.winSize.width/2-e,t.y)},bindToEdge:function(t,e,n,o){var i=t.getContentSize(),c=s.WorldPoint(t);return o&&setTimeout(function(){return o(c)},1e3*n/10),{left:function(){var o=s.desPosOut(t),r=s.desPosIn(t,e),a=cc.p(-o.x,t.y),u=cc.p(-r.x,t.y);c.x>i.width/2?t.runAction(s.easeMoveTo(n/10,a)):t.runAction(s.easeMoveTo(n/10,u))},right:function(){var o=s.desPosOut(t),r=s.desPosIn(t,e);c.x<cc.winSize.width-i.width/2?t.runAction(s.easeMoveTo(n/10,o)):t.runAction(s.easeMoveTo(n/10,r))}}}};cc.Class({extends:cc.Component,properties:{measure:{type:cc.Enum(r),default:r.YES,displayName:"\u662f\u5426\u542f\u7528\u89e6\u6478\u5212\u51fa",tooltip:"\u4ec5\u9650\u5c4f\u5e55\u5de6\u53f3\u4e24\u4fa7"},button:{type:cc.Button,default:null,displayName:"\u89e6\u53d1\u6309\u94ae",tooltip:"\u70b9\u51fb\u6309\u94ae\u89e6\u53d1\u5f39\u6846",visible:function(){return this.measure===r.NO}},buttonOnLayout:{type:cc.Button,default:null,displayName:"\u6062\u590d\u6309\u94ae",tooltip:"\u70b9\u51fb\u6309\u94ae\u6062\u590d\u5f39\u6846",visible:function(){return this.measure===r.NO}},pauseLock:{type:cc.Enum(c),default:c.NO,displayName:"\u5f39\u51fa\u540e\u662f\u5426\u6682\u505c",visible:function(){return this.measure===r.NO}},layout:{type:cc.Layout,default:null,displayName:"\u5f39\u51fa\u6846"},onPlay:{type:cc.Enum(o),default:o.VISIBLE,displayName:"\u521d\u59cb\u72b6\u6001",tooltip:"HIDDEN: \u9690\u85cf, VISIBLE: \u53ef\u89c1",visible:function(){return this.transformIn===i.NONE&&this.transformOut===i.NONE}},transformIn:{type:cc.Enum(i),default:i.NONE,displayName:"\u5f39\u51fa\u52a8\u753b",visible:function(){return this.measure===r.NO}},transformOut:{type:cc.Enum(i),default:i.NONE,displayName:"\u6062\u590d\u52a8\u753b",visible:function(){return this.measure===r.NO}},length:{type:cc.Integer,default:window.screen.height/2,displayName:"\u5f39\u51fa\u8ddd\u79bb",visible:function(){return this.measure!==r.YES&&(this.transformIn!==i.NONE||this.transformOut!==i.NONE)}},speed:{type:cc.Integer,default:10,displayName:"\u52a8\u753b\u901f\u5ea6",slide:!0,min:0,max:10,step:1,visible:function(){return this.transformIn!==i.NONE||this.transformOut!==i.NONE}}},vsize:null,onLoad:function(){this.layout.node.active=Boolean(this.onPlay),this.vsize=Number(cc.winSize.width/2-Math.abs(this.layout.node.x))},start:function(){this.measure===r.YES?this.touchEvent(this.layout.node.position.x<0?i.TORIGHT:i.TOLEFT):this.clickEvent()},layoutAction:function(t){var e=this,n=function(){return e.layout.node.active=!Boolean(e.layout.node.active)},o=function(){return e.layout.node.runAction(s.enterFromTop(e.speed/10,e.length))},i=function(){return e.layout.node.runAction(s.enterFromBottom(e.speed/10,e.length))},c=function(){return e.layout.node.runAction(s.enterFromRight(e.speed/10,e.length))},u=function(){return e.layout.node.runAction(s.enterFromLeft(e.speed/10,e.length))},l=function(){return alert("\u89e6\u6478\u5f39\u6846\u52a8\u753b\u7c7b\u578b\u4e0d\u80fd\u4e3aNONE")},d=function(){return e.layout.node.runAction(s.enterFromTop(e.speed/10,e.length))},p=function(){return e.layout.node.runAction(s.enterFromBottom(e.speed/10,e.length))},h=function(){return s.bindToEdge(e.layout.node,e.vsize,e.speed).right()},f=function(){return s.bindToEdge(e.layout.node,e.vsize,e.speed).left()};this.measure===r.NO?(this.switchFunc(t,n,o,i,c,u),this.button.node.active=!this.button.node.active,a(this.pauseLock)(this.speed/10)):this.switchFunc(t,l,d,p,h,f)},switchFunc:function(t,e,n,o,c,r){switch(t){case i.NONE:e();break;case i.DROP:n();break;case i.UP:o();break;case i.TOLEFT:c();break;case i.TORIGHT:r();break;default:throw new Error("layout transform type error")}},clickEvent:function(){var t=this;this.button.node.on("click",function(){return t.layoutAction(t.transformIn)}),this.buttonOnLayout.node.on("click",function(){return t.layoutAction(t.transformOut)})},touchEvent:function(t){var e=this,n=this.layout.node.getContentSize();this.layout.node.on("touchmove",function(o){var c=o.getLocation(),r=e.layout.node.parent.convertToNodeSpace(c),a=cc.p(r.x,e.layout.node.y);t===i.TORIGHT?c.x<n.width&&(e.layout.node.position=a):t===i.TOLEFT&&c.x>cc.winSize.width-n.width&&(e.layout.node.position=a)}),this.layout.node.on("touchend",function(){e.layoutAction(t)}),this.layout.node.on("touchcancel",function(){e.layoutAction(t)})},onDestroy:function(){cc.director.resume()}}),cc._RF.pop()},{}],MoveCtrllor:[function(t,e,n){"use strict";cc._RF.push(e,"10973hZCI1Aja3TplOPGVSU","MoveCtrllor");var o={limitToCircle:function(t,e){return this.getLength(t)<e?t:this.getPos(this.getAngle(t),e)},getAngle:function(t){return t.y>0?Math.acos(t.x/t.mag()):-Math.acos(t.x/t.mag())},getPos:function(t,e){return cc.v2(e*Math.cos(t),e*Math.sin(t))},getLength:function(t){return t.mag()}},i={angle:null,force:null,status:null,heroSpeed:null,radius:null,onload:function(t){this.angle=0,this.force=0,this.status=!1,t.node.setPosition(0,0)},init:function(t,e,n,c){i.onload(e),this.radius=void 0===n?25:n,this.heroSpeed=void 0===c?5:c,t.node.on("touchstart",function(t){this.status=!0},this),t.node.on("touchmove",function(n){var i=t.node.convertToNodeSpaceAR(n.getLocation()),c=o.limitToCircle(i,this.radius);e.node.setPosition(c),this.angle=o.getAngle(c),this.force=o.getLength(c)/this.radius},this),t.node.on("touchend",function(t){this.onload(e)},this),t.node.on("touchcancel",function(t){this.onload(e)},this)},getMoveAngle:function(){return this.angle},getForce:function(){return this.force},getStatus:function(){return this.status},updateCharacter:function(t){this.directToDes(t,"character")},updateCamera:function(t){this.directToDes(t,"camera")},directToDes:function(t,e){if(!0===this.getStatus()){var n=this.getMoveAngle(),o=this.getForce(),i="character"===e?cc.v2(t.x+this.heroSpeed*Math.cos(n)*o,t.y+this.heroSpeed*Math.sin(n)*o):"camera"===e?cc.v2(t.x-this.heroSpeed*Math.cos(n)*o,t.y-this.heroSpeed*Math.sin(n)*o):console.log("methodError");t.position=cc.v2(i)}}},c=cc.Enum({CHARACTER:1001,CAMERA:1002});cc.Class({extends:cc.Component,properties:{basicSpr:{default:null,type:cc.Sprite,displayName:"\u6447\u6746\u76d8"},touchSpr:{default:null,type:cc.Sprite,displayName:"\u6447\u6746\u62d6\u52a8\u70b9"},hero:{default:null,type:cc.Sprite,displayName:"\u89d2\u8272\u7cbe\u7075",visible:function(){return this.stragey===c.CHARACTER}},camera:{default:null,type:cc.Sprite,displayName:"\u80cc\u666f\u7cbe\u7075",visible:function(){return this.stragey===c.CAMERA}},radius:{default:25,type:cc.Integer,displayName:"\u62d6\u52a8\u534a\u5f84",tooltip:"\u9ed8\u8ba425"},heroSpeed:{default:5,type:cc.Integer,displayName:"\u89d2\u8272\u79fb\u52a8\u901f\u5ea6",tooltip:"\u9ed8\u8ba45",slide:!0,min:1,max:15,step:1},stragey:{type:cc.Enum(c),default:c.CHARACTER,displayName:"\u7b56\u7565",tooltip:"CHARACTER: \u5c4f\u5e55\u9759\u6b62, CAMERA: \u5c4f\u5e55\u79fb\u52a8, \u6ce8\u610f: CAMERA\u7b56\u7565\u65f6, \u89d2\u8272\u4e0d\u80fd\u662f\u80cc\u666f\u5b50\u8282\u70b9"}},onLoad:function(){i.init(this.basicSpr,this.touchSpr,this.radius,this.heroSpeed)},update:function(){this.stragey===c.CHARACTER?i.updateCharacter(this.hero.node):i.updateCamera(this.camera.node)}}),cc._RF.pop()},{}],PhysicsCollisionCtrllor:[function(t,e,n){"use strict";cc._RF.push(e,"3b750GeSgFL95k7cHUnNB1g","PhysicsCollisionCtrllor");var o=cc.Enum({NO:0,YES:1});cc.Class({extends:cc.Component,properties:{gravity:{default:0,type:cc.Integer,displayName:"\u91cd\u529b\u503c",tooltip:"\u6ce8\u610f\uff1a\u6b64\u9879\u4f1a\u5f71\u54cd\u5168\u5c40,\u91cd\u529b\u4e3a0\u65f6,\u5219\u7269\u4f53\u4e0d\u4f1a\u81ea\u7531\u843d\u4f53"},lockA:{default:o.YES,type:cc.Enum(o),displayName:"\u662f\u5426\u9500\u6bc1\u81ea\u8eab",tooltip:"YES: \u78b0\u649e\u9500\u6bc1\u81ea\u8eab, NO: \u78b0\u649e\u4e0d\u9500\u6bc1\u81ea\u8eab"},lockB:{default:o.YES,type:cc.Enum(o),displayName:"\u662f\u5426\u9500\u6bc1\u5bf9\u65b9",tooltip:"YES: \u78b0\u649e\u9500\u6bc1\u5bf9\u65b9, NO: \u78b0\u649e\u4e0d\u9500\u6bc1\u5bf9\u65b9"}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-this.gravity)},onBeginContact:function(t,e,n){this.lockA===o.YES&&e.node.destroy(),this.lockB===o.YES&&n.node.destroy()}}),cc._RF.pop()},{}],SceneGo:[function(t,e,n){"use strict";cc._RF.push(e,"b1fb3y9JZBJ17dvTUW9FJWs","SceneGo");var o=function(t,e,n){var o=cc.moveBy(t,cc.winSize.width,0);e.runAction(o.easing(cc.easeSineInOut(t))),setTimeout(function(){cc.director.loadScene(n)},1e3*t)},i=cc.Enum({NONE:0,TransitionMoveInL:1});cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Button,displayName:"\u573a\u666f\u5207\u6362\u6309\u94ae"},target:{default:null,type:cc.SceneAsset,displayName:"\u76ee\u6807\u573a\u666f",tooltip:"\u8981\u5207\u6362\u5230\u7684\u573a\u666f"},transform:{type:cc.Enum(i),default:i.NONE,displayName:"\u573a\u666f\u5207\u6362\u6548\u679c"}},onLoad:function(){var t=this;this.button.node.on("click",function(){switch(t.transform){case i.NONE:cc.director.loadScene(t.target._name);break;case i.TransitionMoveInL:o(1,t.node,t.target._name);break;default:throw new Error("scene transform type error")}})}}),cc._RF.pop()},{}]},{},["AutoFollower","BulletCtrllor","LayoutCtrllor","MoveCtrllor","PhysicsCollisionCtrllor","SceneGo"]);